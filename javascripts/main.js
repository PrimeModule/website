window.primemodule={},$(function(){$(".header-typed").typed({stringsElement:$(".header-typed-strings"),typeSpeed:50,backSpeed:10,backDelay:1e3,loop:!0,contentType:"text"}),$(".js-input-clean").focusout(function(){this.validity.valid||$(this).val("")});var e=document.getElementById("js-hamburger"),t=document.getElementById("js-sidemenu");e.addEventListener("click",function(){e.classList.toggle("is-active"),t.classList.toggle("sidemenu--open")},!1),new primemodule.Scrolling,new primemodule.Carousel,new primemodule.ContactForm,new primemodule.ContactMap,new primemodule.Instagram});
!function(){var s=function(){this.$sliders=$(".flexslider"),this.slidersLength=this.$sliders.length,this.slidersLength>0&&this.setup()};s.prototype.setup=function(){this.$sliders.each(function(s,e){var i=$(e),t=$.extend({animation:"slide",controlNav:!1,slideshow:!1,minItems:1,maxItems:1},i.data());i.flexslider(t)})},window.primemodule.Carousel=s}();
!function(){function o(){this._$rootNode=$("#contact-form"),this._$close=null,this._showMessageClass="show-message",this._formValidator=null,this._$rootNode.length>0&&(this._setup(),this._bindEvents())}o.prototype._setup=function(){this._formValidator=new primemodule.FormValidator({form:this._$rootNode}),this._$close=this._$rootNode.find(".js-close")},o.prototype._bindEvents=function(){this._$rootNode.on("submit",this._sendEmail.bind(this)),this._$close.on("click",this._close.bind(this))},o.prototype._sendEmail=function(o){if(o.preventDefault(),this._formValidator.validate()){var s={subject:"PrimeModule contact form",to:"info@primemodule.com",address:this._$rootNode.find("#email-address").val(),message:this._$rootNode.find("#email-message").val(),name:this._$rootNode.find("#email-name").val()};this._$rootNode.addClass("contact-form--loading"),$.ajax({method:"POST",url:"http://node-email-api.herokuapp.com/api/email",data:s,success:this._onEmailSuccess.bind(this),error:this._onEmailError.bind(this)})}},o.prototype._onEmailSuccess=function(){this._$rootNode.removeClass("contact-form--loading"),this._$rootNode.find("#js-success").toggleClass(this._showMessageClass)},o.prototype._onEmailError=function(){this._$rootNode.removeClass("contact-form--loading"),this._$rootNode.find("#js-error").toggleClass(this._showMessageClass)},o.prototype._close=function(o){o.preventDefault(),this._$rootNode.find(".show-message").toggleClass(this._showMessageClass)},window.primemodule.ContactForm=o}();
!function(){var e=function(){this._map=document.getElementById("js-map"),this._map&&this._setup()};e.prototype._setup=function(){var e=new google.maps.LatLng(51.765666,19.4497),t=new google.maps.LatLng(51.507351,-.127758),o=new google.maps.LatLng(51.107885,17.038538),l={zoom:5,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},i=new google.maps.Map(this._map,l);new google.maps.Marker({position:o,map:i,title:"Mobile Office - Wroclaw"}),new google.maps.Marker({position:e,map:i,title:"Headquarters - Gdańska 81 Łódź"}),new google.maps.Marker({position:t,map:i,title:"Mobile Office - London"}),i.set("styles",this._getStyles())},e.prototype._getStyles=function(){return[{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#e9e5dc"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{hue:"#1900ff"},{color:"#c0e8e8"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"water",elementType:"all",stylers:[{color:"#7dcdcd"}]}]},window.primemodule.ContactMap=e}();
!function(){function t(t){this._$form=t.form,this._$fields=this._$form.find('input:not([type="submit"]), textarea'),this.types={email:/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/}}t.prototype.validate=function(){var t=this;return this._$fields.each(function(i,e){var s=t.isValid(e);e.classList.toggle("invalid",!s),e.classList.toggle("valid",s),e.parentNode.classList.toggle("form__field__error",!s)}),0===this._$fields.filter(function(t,i){return i.classList.contains("invalid")}).length},t.prototype.isValid=function(t){var i=t.value.length;return t.required&&0===i?!1:this.types.hasOwnProperty(t.type)?this.types[t.type].test(t.value):!0},window.primemodule.FormValidator=t}();
!function(){var t=function(){this._rootEl=document.getElementById("js-instagram"),this._rootEl&&this._getPhotos()};t.prototype._getPhotos=function(){var t=new Instafeed({get:"user",accessToken:"537395123.02079cf.a3578fee6f074acc8c7b92b58da41436",userId:"537395123",limit:6,resolution:"standard_resolution",template:'<li class="columns__column2--extrasmall"><a href="{{link}}" target="_blank"><img src="{{image}}" class="scale-with-grid" /></a></li>'});t.run()},window.primemodule.Instagram=t}();
!function(){function e(){this.element={header:document.getElementById("js-header"),hamburger:document.getElementById("js-hamburger")},this.skrollr=null,this.setup()}e.prototype.setup=function(){var e=this;this.skrollr=skrollr.init({forceHeight:!1,mobileCheck:function(){return!1},keyframe:function(t,n,r){t.dataset.eventName&&e[t.dataset.eventName+"Handler"].call(e,t,r)}}),skrollr.menu.init(this.skrollr,{easing:"swing",duration:function(e,t){return Math.abs(e-t)}})},e.prototype.introHandler=function(e,t){var n="down"===t;this.element.header.classList.toggle("header--outside-intro",n),this.element.hamburger.classList.toggle("hamburger--outside-intro",n)},window.primemodule.Scrolling=e}();